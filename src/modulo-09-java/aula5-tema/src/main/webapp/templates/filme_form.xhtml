<?xml version="1.0" encoding="UTF-8"?>
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core">

    <div class="panel panel-default">
        <div class="panel-heading">
            <h:outputText value="#{bundle.filme_cadastro}"/>
        </div>
        <div class="panel-body">
            <div class="messages">
                <h:messages globalOnly="true" infoClass="text-success" errorClass="text-danger"/>
            </div>
            <div class="form-group"> 
                <h:outputLabel for="titulo" value="#{bundle.filme_titulo}"></h:outputLabel>
                <h:inputText id="titulo" value="#{filmeManagedBean.filme.titulo}" class="form-control"/>
                <h:message for="titulo" errorClass="text-danger"/>
            </div>
            <div class="form-group"> 
                <h:outputLabel for="data-lancamento" value="#{bundle.filme_dataLancamento}"></h:outputLabel>
                <h:inputText id="data-lancamento" value="#{filmeManagedBean.filme.datalancamento}" styleClass="form-control" converter="dateConverter">
                    <f:passThroughAttribute name="type" value="date"/>
                </h:inputText>
                <h:message for="data-lancamento" errorClass="text-danger"/>
            </div>
            <div class="form-group">
                <h:outputLabel for="diretor" value="#{bundle.filme_diretor}"></h:outputLabel>
                <h:inputText id="diretor" value="#{filmeManagedBean.filme.diretor}" styleClass="form-control"/>
                <h:message for="diretor" errorClass="text-danger"/>
            </div>
            <div class="form-group"> 
                <h:outputLabel for="classificacao" value="#{bundle.filme_classificacao}"></h:outputLabel>
                <h:selectOneMenu id="classificacao" value="#{filmeManagedBean.filme.classificacao}" styleClass="form-control" converter="classificacaoConverter">
                    <f:selectItems value="#{filmeManagedBean.classificacoes}" var="classificacao" 
                                   itemValue="#{classificacao}" itemLabel="#{classificacao.descricao}"/>
                </h:selectOneMenu>
            </div>
            <div class="form-group">
                <h:outputLabel for="elenco" value="#{bundle.filme_elenco}"></h:outputLabel>
                <h:selectOneMenu id="elenco" value="#{filmeManagedBean.filme.elenco}" styleClass="form-control" converter="elencoConverter">
                    <f:selectItems value="#{filmeManagedBean.elencos}" var="elenco" 
                                   itemValue="#{elenco}" itemLabel="#{elenco.nome}"/>
                </h:selectOneMenu> 
            </div>
            <div class="form-group">
                <h:outputLabel for="genero" value="#{bundle.filme_genero}"></h:outputLabel>
                <h:selectOneMenu id="genero" value="#{filmeManagedBean.filme.genero}" styleClass="form-control" converter="generoConverter">
                    <f:selectItems value="#{filmeManagedBean.generos}" var="genero" 
                                   itemValue="#{genero}" itemLabel="#{genero.descricao}"/>
                </h:selectOneMenu>
            </div>
            <div class="form-group">
                <h:outputLabel for="idioma" value="#{bundle.filme_idioma}"></h:outputLabel>
                <h:selectOneMenu id="idioma" value="#{filmeManagedBean.filme.idioma}" styleClass="form-control" converter="idiomaConverter">
                    <f:selectItems value="#{filmeManagedBean.idiomas}" var="idioma" 
                                   itemValue="#{idioma}" itemLabel="#{idioma.nome}"/>
                </h:selectOneMenu> 
            </div>
            <h:commandButton type="submit" value="#{bundle.form_enviar}" styleClass="btn btn-success" action="#{filmeManagedBean.adicionar}">    
                <f:ajax execute="@form" render="@form" />
            </h:commandButton>
        </div>
    </div>
    <ui:include src="filme_listagem.xhtml"/>
</ui:composition>
